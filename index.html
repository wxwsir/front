<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon"
        href="data:image/png;base64,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" />
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>语音合成</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f5f5f5;
        }

        main {
            margin: 10px;
        }

        main[x-cloak] {
            opacity: 0;
        }

        main:not([x-cloak]) {
            opacity: 1;
            transition: opacity .3s;
        }

        h1 {
            text-align: center;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        select,
        textarea {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1rem;
            color: #33404d;
            transition: border .3s, box-shadow .3s;
        }

        textarea:focus {
            box-shadow: 0 0 0 .25rem var(--color-primary-alpha);
            border-color: var(--color-primary);
            outline: 0;
        }


        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        audio {
            margin-top: 20px;
            display: block;
        }


        .footer {
            width: 100%;
            background-color: #f5f5f5;
            z-index: 9999;
            position: fixed;
            bottom: 0;
            left: 0;
            text-align: center;
        }

        .footer .container {
            max-width: 100%;
            padding-left: 0;
            padding-right: 0;
        }

        .container .text-muted {
            line-height: 20px;
            padding-left: 0;
            position: relative;
            margin-bottom: 10px;
            text-align: center;
            scroll-snap-type: y mandatory; /*按Y轴纵向滚动*/
            overflow-y: scroll; /*当Y值变化时采取滚动处理*/
            overflow-x: hidden; /*隐藏横行滚动*/
        }

        .text-muted {
            margin-bottom: 10px !important
        }

        .text-muted span {
            display: block;
            font-size: 11px
        }

        a {
            text-decoration: none;
        }
        .pages {
            scroll-snap-align: start; /*每次滚动后停在下一页面的开始位置*/
            height: 100vh;/*纵向满屏*/
            width: 100vw;/*横向满屏*/
        }
    </style>
</head>

<body>

    <main>
        <h1>语音合成</h1>
        <div>
            <label for="voiceSelect">声音：</label>
            <select id="voiceSelect"></select>
            <label for="voiceStyleSelect">声音风格：</label>
            <select id="voiceStyleSelect"></select>
            <label for="rateRange">语速：</label>
            <input type="range" id="rateRange" min="0" max="100" value="0">
            <label for="pitchRange">音调：</label>
            <input type="range" id="pitchRange" min="0" max="100" value="0">
            <label for="ssmlInput">文本：</label>
            <textarea id="ssmlInput" rows="4" cols="50"></textarea>
            <button onclick="playAudio()">播放音频</button>
            <button onclick="downloadAudio()">下载音频</button>
        </div>
        <audio id="audioPlayer" controls></audio>
        <hr>
        <h1>翻译官</h1>
        <div class="pages">
            <div id="app">
                <el-input style="color: #000; font-weight: 600; font-size: 20px;" type="textarea" :rows="5" v-model="textarea" placeholder="请输入需要翻译的内容"></el-input>
                <el-button style="margin: 20px 0;" type="primary" @click="goTranslate">翻译</el-button>
                <el-button style="margin: 20px 0;" type="primary" @click="reset">重置</el-button>
                <el-input style="color: #000; font-weight: 600; font-size: 20px;" readonly type="textarea" :rows="5" id="dstText" name="dstText" placeholder="翻译结果"></el-input>
            </div>
        </div>
    </main>



    <footer class="footer">
        <div class="container text-center">
            <p>本程序基于Microsoft Azure，开源于<a href="https://github.com/x-dr/tts" target="_blank">GItHub</a></p>
        </div>
    </footer>

    <!--  引入语音合成api -->
    <script>
        const voiceStyles = [{ "LocalName": "晓辰", "ShortName": "zh-CN-XiaochenNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓晓", "ShortName": "zh-CN-XiaoxiaoNeural", "VoiceStyleNames": ["assistant", "chat", "customerservice", "newscast", "affectionate", "angry", "calm", "cheerful", "disgruntled", "fearful", "gentle", "lyrical", "sad", "serious", "poetry-reading", "friendly", "Default"] }, { "LocalName": "晓萱", "ShortName": "zh-CN-XiaoxuanNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "gentle", "depressed", "Default"] }, { "LocalName": "晓涵", "ShortName": "zh-CN-XiaohanNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "gentle", "affectionate", "embarrassed", "Default"] }, { "LocalName": "晓甄", "ShortName": "zh-CN-XiaozhenNeural", "VoiceStyleNames": ["angry", "disgruntled", "cheerful", "fearful", "sad", "serious", "Default"] }, { "LocalName": "云健", "ShortName": "zh-CN-YunjianNeural", "VoiceStyleNames": ["narration-relaxed", "sports-commentary", "sports-commentary-excited", "angry", "disgruntled", "cheerful", "sad", "serious", "depressed", "documentary-narration", "Default"] }, { "LocalName": "晓颜", "ShortName": "zh-CN-XiaoyanNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓伊", "ShortName": "zh-CN-XiaoyiNeural", "VoiceStyleNames": ["angry", "disgruntled", "affectionate", "cheerful", "fearful", "sad", "embarrassed", "serious", "gentle", "Default"] }, { "LocalName": "云皓", "ShortName": "zh-CN-YunhaoNeural", "VoiceStyleNames": ["advertisement-upbeat", "Default"] }, { "LocalName": "曉佳（香港）", "ShortName": "zh-HK-HiuGaaiNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓妮（陕西）", "ShortName": "zh-CN-shaanxi-XiaoniNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓双", "ShortName": "zh-CN-XiaoshuangNeural", "VoiceStyleNames": ["chat", "Default"] }, { "LocalName": "晓梦", "ShortName": "zh-CN-XiaomengNeural", "VoiceStyleNames": ["chat", "Default"] }, { "LocalName": "云枫", "ShortName": "zh-CN-YunfengNeural", "VoiceStyleNames": ["angry", "disgruntled", "cheerful", "fearful", "sad", "serious", "depressed", "Default"] }, { "LocalName": "云泽", "ShortName": "zh-CN-YunzeNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "documentary-narration", "Default"] }, { "LocalName": "曉臻（台湾）", "ShortName": "zh-TW-HsiaoChenNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓北（辽宁）", "ShortName": "zh-CN-liaoning-XiaobeiNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓秋", "ShortName": "zh-CN-XiaoqiuNeural", "VoiceStyleNames": [""] }, { "LocalName": "云野", "ShortName": "zh-CN-YunyeNeural", "VoiceStyleNames": ["embarrassed", "calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "Default"] }, { "LocalName": "云希（四川）", "ShortName": "zh-CN-sichuan-YunxiNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓睿", "ShortName": "zh-CN-XiaoruiNeural", "VoiceStyleNames": ["calm", "fearful", "angry", "sad", "Default"] }, { "LocalName": "云希", "ShortName": "zh-CN-YunxiNeural", "VoiceStyleNames": ["narration-relaxed", "embarrassed", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "chat", "assistant", "newscast", "Default"] }, { "LocalName": "雲哲（台湾）", "ShortName": "zh-TW-YunJheNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓悠", "ShortName": "zh-CN-XiaoyouNeural", "VoiceStyleNames": [""] }, { "LocalName": "云夏", "ShortName": "zh-CN-YunxiaNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "angry", "sad", "Default"] }, { "LocalName": "云登（河南）", "ShortName": "zh-CN-henan-YundengNeural", "VoiceStyleNames": [""] }, { "LocalName": "云扬", "ShortName": "zh-CN-YunyangNeural", "VoiceStyleNames": ["customerservice", "narration-professional", "newscast-casual", "Default"] }, { "LocalName": "曉雨（台湾）", "ShortName": "zh-TW-HsiaoYuNeural", "VoiceStyleNames": [""] }, { "LocalName": "雲龍（香港）", "ShortName": "zh-HK-WanLungNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓墨", "ShortName": "zh-CN-XiaomoNeural", "VoiceStyleNames": ["embarrassed", "calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "affectionate", "gentle", "envious", "Default"] }, { "LocalName": "曉曼（香港）", "ShortName": "zh-HK-HiuMaanNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓翔（山东）", "ShortName": "zh-CN-shandong-YunxiangNeural", "VoiceStyleNames": [""] }]
        const voiceSelect = document.getElementById("voiceSelect");
        const voiceStyleSelect = document.getElementById("voiceStyleSelect");

        // 添加声音选项到下拉菜单
        voiceStyles.forEach(voiceStyle => {
            const option = document.createElement("option");
            option.value = voiceStyle.ShortName;
            option.text = voiceStyle.LocalName;
            voiceSelect.appendChild(option);
        });

        // 更新声音风格选项
        function updateVoiceStyleOptions() {
            const selectedVoice = voiceSelect.value;
            const selectedVoiceStyle = voiceStyles.find(voiceStyle => voiceStyle.ShortName === selectedVoice);
            // 清空现有选项
            while (voiceStyleSelect.firstChild) {
                voiceStyleSelect.removeChild(voiceStyleSelect.firstChild);
            }
            // 添加新选项
            if (selectedVoiceStyle && selectedVoiceStyle.VoiceStyleNames) {
                selectedVoiceStyle.VoiceStyleNames.forEach(voiceStyleName => {
                    const option = document.createElement("option");
                    option.value = voiceStyleName;
                    option.text = voiceStyleName;
                    voiceStyleSelect.appendChild(option);
                });
            }
        }

        // 当声音选项更改时更新声音风格选项
        voiceSelect.addEventListener("change", updateVoiceStyleOptions);

        function playAudio() {
            const voice = document.getElementById("voiceSelect").value;
            const voiceStyle = document.getElementById("voiceStyleSelect").value;
            const rate = document.getElementById("rateRange").value;
            const pitch = document.getElementById("pitchRange").value;
            const text = document.getElementById("ssmlInput").value;
            const audioPlayer = document.getElementById("audioPlayer");
            const url = `/audio?voice=${encodeURIComponent(voice)}&voiceStyle=${encodeURIComponent(voiceStyle)}&rate=${encodeURIComponent(rate)}&pitch=${encodeURIComponent(pitch)}&text=${encodeURIComponent(text)}`;
            console.log(voiceStyle);
            audioPlayer.src = url;
            audioPlayer.onerror = function () {
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data);
                        alert("Failed to generate audio")
                        const errorText = "Failed to generate audio: " + data.error;
                    })
                    .catch(error =>
                        console.log(error));
            };
            audioPlayer.play();
        }

        function downloadAudio() {
            const voice = document.getElementById("voiceSelect").value;
            const voiceStyle = document.getElementById("voiceStyleSelect").value;
            const rate = document.getElementById("rateRange").value;
            const pitch = document.getElementById("pitchRange").value;
            const text = document.getElementById("ssmlInput").value;
            const url = `/audio?voice=${encodeURIComponent(voice)}&voiceStyle=${encodeURIComponent(voiceStyle)}&rate=${encodeURIComponent(rate)}&pitch=${encodeURIComponent(pitch)}&text=${encodeURIComponent(text)}`;
            const link = document.createElement('a');
            link.href = url;
            link.download = 'audio.mp3';
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>

    <!--  引入翻译api -->
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
         function MD5(string) {

        function RotateLeft(lValue, iShiftBits) {
            return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));
        }

        function AddUnsigned(lX,lY) {
            var lX4,lY4,lX8,lY8,lResult;
            lX8 = (lX & 0x80000000);
            lY8 = (lY & 0x80000000);
            lX4 = (lX & 0x40000000);
            lY4 = (lY & 0x40000000);
            lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);
            if (lX4 & lY4) {
                return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
            }
            if (lX4 | lY4) {
                if (lResult & 0x40000000) {
                    return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
                } else {
                    return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
                }
            } else {
                return (lResult ^ lX8 ^ lY8);
            }
        }

        function F(x,y,z) { return (x & y) | ((~x) & z); }
        function G(x,y,z) { return (x & z) | (y & (~z)); }
        function H(x,y,z) { return (x ^ y ^ z); }
        function I(x,y,z) { return (y ^ (x | (~z))); }

        function FF(a,b,c,d,x,s,ac) {
            a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));
            return AddUnsigned(RotateLeft(a, s), b);
        };

        function GG(a,b,c,d,x,s,ac) {
            a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));
            return AddUnsigned(RotateLeft(a, s), b);
        };

        function HH(a,b,c,d,x,s,ac) {
            a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));
            return AddUnsigned(RotateLeft(a, s), b);
        };

        function II(a,b,c,d,x,s,ac) {
            a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));
            return AddUnsigned(RotateLeft(a, s), b);
        };

        function ConvertToWordArray(string) {
            var lWordCount;
            var lMessageLength = string.length;
            var lNumberOfWords_temp1=lMessageLength + 8;
            var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;
            var lNumberOfWords = (lNumberOfWords_temp2+1)*16;
            var lWordArray=Array(lNumberOfWords-1);
            var lBytePosition = 0;
            var lByteCount = 0;
            while ( lByteCount < lMessageLength ) {
                lWordCount = (lByteCount-(lByteCount % 4))/4;
                lBytePosition = (lByteCount % 4)*8;
                lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)<<lBytePosition));
                lByteCount++;
            }
            lWordCount = (lByteCount-(lByteCount % 4))/4;
            lBytePosition = (lByteCount % 4)*8;
            lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80<<lBytePosition);
            lWordArray[lNumberOfWords-2] = lMessageLength<<3;
            lWordArray[lNumberOfWords-1] = lMessageLength>>>29;
            return lWordArray;
        };

        function WordToHex(lValue) {
            var WordToHexValue="",WordToHexValue_temp="",lByte,lCount;
            for (lCount = 0;lCount<=3;lCount++) {
                lByte = (lValue>>>(lCount*8)) & 255;
                WordToHexValue_temp = "0" + lByte.toString(16);
                WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);
            }
            return WordToHexValue;
        };

        function Utf8Encode(string) {
            string = string.replace(/\r\n/g,"\n");
            var utftext = "";

            for (var n = 0; n < string.length; n++) {

                var c = string.charCodeAt(n);

                if (c < 128) {
                    utftext += String.fromCharCode(c);
                }
                else if((c > 127) && (c < 2048)) {
                    utftext += String.fromCharCode((c >> 6) | 192);
                    utftext += String.fromCharCode((c & 63) | 128);
                }
                else {
                    utftext += String.fromCharCode((c >> 12) | 224);
                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                    utftext += String.fromCharCode((c & 63) | 128);
                }

            }

            return utftext;
        };

        var x=Array();
        var k,AA,BB,CC,DD,a,b,c,d;
        var S11=7, S12=12, S13=17, S14=22;
        var S21=5, S22=9 , S23=14, S24=20;
        var S31=4, S32=11, S33=16, S34=23;
        var S41=6, S42=10, S43=15, S44=21;

        string = Utf8Encode(string);

        x = ConvertToWordArray(string);

        a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;

        for (k=0;k<x.length;k+=16) {
            AA=a; BB=b; CC=c; DD=d;
            a=FF(a,b,c,d,x[k+0], S11,0xD76AA478);
            d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);
            c=FF(c,d,a,b,x[k+2], S13,0x242070DB);
            b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);
            a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);
            d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);
            c=FF(c,d,a,b,x[k+6], S13,0xA8304613);
            b=FF(b,c,d,a,x[k+7], S14,0xFD469501);
            a=FF(a,b,c,d,x[k+8], S11,0x698098D8);
            d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);
            c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);
            b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);
            a=FF(a,b,c,d,x[k+12],S11,0x6B901122);
            d=FF(d,a,b,c,x[k+13],S12,0xFD987193);
            c=FF(c,d,a,b,x[k+14],S13,0xA679438E);
            b=FF(b,c,d,a,x[k+15],S14,0x49B40821);
            a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);
            d=GG(d,a,b,c,x[k+6], S22,0xC040B340);
            c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);
            b=GG(b,c,d,a,x[k+0], S24,0xE9B6C7AA);
            a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);
            d=GG(d,a,b,c,x[k+10],S22,0x2441453);
            c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);
            b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);
            a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);
            d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);
            c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);
            b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);
            a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);
            d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);
            c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);
            b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);
            a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);
            d=HH(d,a,b,c,x[k+8], S32,0x8771F681);
            c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);
            b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);
            a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);
            d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);
            c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);
            b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);
            a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);
            d=HH(d,a,b,c,x[k+0], S32,0xEAA127FA);
            c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);
            b=HH(b,c,d,a,x[k+6], S34,0x4881D05);
            a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);
            d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);
            c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);
            b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);
            a=II(a,b,c,d,x[k+0], S41,0xF4292244);
            d=II(d,a,b,c,x[k+7], S42,0x432AFF97);
            c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);
            b=II(b,c,d,a,x[k+5], S44,0xFC93A039);
            a=II(a,b,c,d,x[k+12],S41,0x655B59C3);
            d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);
            c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);
            b=II(b,c,d,a,x[k+1], S44,0x85845DD1);
            a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);
            d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);
            c=II(c,d,a,b,x[k+6], S43,0xA3014314);
            b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);
            a=II(a,b,c,d,x[k+4], S41,0xF7537E82);
            d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);
            c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);
            b=II(b,c,d,a,x[k+9], S44,0xEB86D391);
            a=AddUnsigned(a,AA);
            b=AddUnsigned(b,BB);
            c=AddUnsigned(c,CC);
            d=AddUnsigned(d,DD);
        }

        var temp = WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);

        return temp.toLowerCase();
    }
    </script>
    <script type="text/javascript">
        new Vue({
            el: '#app',
            data: function () {
                return {
                    textarea: '',
                    result: ''
                }
            },
            mounted: function () {
                // this.translate()
            },
            methods: {
                //  百度翻译入口
                translate: function (query) {
                    var appid = '20231028001861818'
                    var key = 'yiKiIGvmsPFFVXorZEKZ'
                    var salt = (new Date).getTime()
                    var query = query
                    var from = 'auto'
                    var to = 'auto'
                    var str1 = appid + query + salt + key
                    var sign = MD5(str1)
                    $.ajax({
                        url: 'http://api.fanyi.baidu.com/api/trans/vip/translate',
                        type: 'get',
                        async:false,
                        dataType: 'jsonp',
                        data: {
                            q: query,
                            from: from,   //源语言，英文
                            to: to,       //翻译的语言，中文
                            appid: appid,
                            salt: salt,
                            sign: sign
                        },
                        success: function(data) {
                            console.log(data)
                            $("#dstText").empty() ;
                            for ( var i = 0 ; i < data.trans_result.length ; i++ )
                            {
                                $("#dstText").append( data.trans_result[i].dst  +" <br />") ;
                            }
                        }
                    });
                },
                goTranslate : function() {
                    if (this.textarea.length === 0) return
                    this.translate(this.textarea)
                },
                reset: function (){
                    this.textarea = '',
                    this.result = ''
                }
            }
        })

    </script>


</body>

</html>

